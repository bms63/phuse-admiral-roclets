[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "phuse-admiral-roclets",
    "section": "",
    "text": "This is a Quarto site for the PHUSE US Connect 2026 talk titled “Time to Roclet”. It will be presented on Monday, March 26, 2026 in Austin, Texas."
  },
  {
    "objectID": "phuse-admiral-roclets-pres.html#required-xkcd-comic",
    "href": "phuse-admiral-roclets-pres.html#required-xkcd-comic",
    "title": "Time to Roclet",
    "section": "",
    "text": "Do you read the manual first? Show of Hands\nDo you just dive in and read the manual afterwards? Show of Hands\nI am a dive in and then read the manual later."
  },
  {
    "objectID": "phuse-admiral-roclets-pres.html#the-next-20-minutes",
    "href": "phuse-admiral-roclets-pres.html#the-next-20-minutes",
    "title": "Time to Roclet",
    "section": "The next 20 minutes…",
    "text": "The next 20 minutes…\n\n\nBrief intro to the problem. Hint: documentation\nInfrastructure behind R package documentation\nadmiral R package and its documentation\nHow admiral extended roxygen2 abilities to solve its problem"
  },
  {
    "objectID": "phuse-admiral-roclets-pres.html#so-at-the-end-of-20-minutes",
    "href": "phuse-admiral-roclets-pres.html#so-at-the-end-of-20-minutes",
    "title": "Time to Roclet",
    "section": "So at the end of 20 minutes…",
    "text": "So at the end of 20 minutes…\nI hope you walk away with:\n\n\nHow R documentation is created.\nHow admiral enhanced its documentation to help its users creating ADaMs."
  },
  {
    "objectID": "phuse-admiral-roclets-pres.html#introduction-the-challenge-of-r-package-documentation",
    "href": "phuse-admiral-roclets-pres.html#introduction-the-challenge-of-r-package-documentation",
    "title": "Time to Roclet",
    "section": "Introduction: The Challenge of R Package Documentation",
    "text": "Introduction: The Challenge of R Package Documentation\n\n\nDetailed argument definitions and inline examples aid understanding complex functions.\nIn admiral, top-notch documentation is a priority.\nProblem: As examples grew, documentation became unwieldy and hard to navigate.\nSolution: Extended roxygen package’s roclets to better display and curate examples.\nThis presentation explores the technical details and positive impact on admiral’s function examples."
  },
  {
    "objectID": "phuse-admiral-roclets-pres.html#r-packages-the-foundation-of-the-r-ecosystem",
    "href": "phuse-admiral-roclets-pres.html#r-packages-the-foundation-of-the-r-ecosystem",
    "title": "Time to Roclet",
    "section": "R Packages: The Foundation of the R Ecosystem",
    "text": "R Packages: The Foundation of the R Ecosystem\n\n\nR packages bundle code, data, documentation, and tests in a standardized format.\nThey facilitate code sharing and reuse, expanding R’s functionality.\nKey components:\n\nR functions in R/ directory. Documentation in man/\nDocumentation using roxygen2 comments.\nDependencies in DESCRIPTION file."
  },
  {
    "objectID": "phuse-admiral-roclets-pres.html#roxygen2-streamlining-r-documentation",
    "href": "phuse-admiral-roclets-pres.html#roxygen2-streamlining-r-documentation",
    "title": "Time to Roclet",
    "section": "roxygen2: Streamlining R Documentation",
    "text": "roxygen2: Streamlining R Documentation\n\n\nThe roxygen2 R package simplifies documentation within R packages.\nDevelopers write documentation directly alongside function definitions using #' comments.\nBenefits:\n\nKeeps code and documentation co-located, making updates efficient.\nAutomatically generates .Rd files (standard R documentation) from comments.\n\nThis system significantly reduces effort, enhancing user understanding of functions."
  },
  {
    "objectID": "phuse-admiral-roclets-pres.html#anatomy-of-roxygen-comments",
    "href": "phuse-admiral-roclets-pres.html#anatomy-of-roxygen-comments",
    "title": "Time to Roclet",
    "section": "Anatomy of Roxygen Comments",
    "text": "Anatomy of Roxygen Comments\nHere’s a brief example of a function add_numbers() with its roxygen documentation:\n#' Add two numbers together.\n#'\n#' This function takes two numeric inputs and returns their sum.\n#'\n#' @param x A numeric value, the first number.\n#' @param y A numeric value, the second number.\n#' @return The sum of `x` and `y`.\n#' @examples\n#' add_numbers(5, 3)\n#' add_numbers(10, -2)\nadd_numbers &lt;- function(x, y) {\n  x + y\n}"
  },
  {
    "objectID": "phuse-admiral-roclets-pres.html#roxygenize",
    "href": "phuse-admiral-roclets-pres.html#roxygenize",
    "title": "Time to Roclet",
    "section": "Roxygenize",
    "text": "Roxygenize\n% Generated by roxygen2: do not edit by hand\n% Please edit documentation in R/add_numbers.R\n\\name{add_numbers}\n\\alias{add_numbers}\n\\title{Add two numbers together.}\n\\usage{\nadd_numbers(x, y)\n}\n\\arguments{\n\\item{x}{A numeric value, the first number.\n\n\\describe{\n\\item{Default value}{none}\n}}\n\n\\item{y}{A numeric value, the second number.\n\n\\describe{\n\\item{Default value}{none}\n}}\n}\n\\value{\nThe sum of \\code{x} and \\code{y}.\n}\n\\description{\nThis function takes two numeric inputs and returns their sum.\n}\n\\examples{\nadd_numbers(5, 3)\nadd_numbers(10, -2)\n}"
  },
  {
    "objectID": "phuse-admiral-roclets-pres.html#dont-touch",
    "href": "phuse-admiral-roclets-pres.html#dont-touch",
    "title": "Time to Roclet",
    "section": "Don’t touch!",
    "text": "Don’t touch!\n\n\nI do not recommend editing these by hand - ever - unless you want pain!"
  },
  {
    "objectID": "phuse-admiral-roclets-pres.html#render-in-r-help-file-and-pkgdown",
    "href": "phuse-admiral-roclets-pres.html#render-in-r-help-file-and-pkgdown",
    "title": "Time to Roclet",
    "section": "Render in R help file and pkgdown",
    "text": "Render in R help file and pkgdown"
  },
  {
    "objectID": "phuse-admiral-roclets-pres.html#dplyr",
    "href": "phuse-admiral-roclets-pres.html#dplyr",
    "title": "Time to Roclet",
    "section": "dplyr",
    "text": "dplyr\n\n\n\n\n\n\n#’s used to delineate new example with explanation\nCreates a sea of examples\nExamples are not navigable on right hand side"
  },
  {
    "objectID": "phuse-admiral-roclets-pres.html#admiral-1.2.0",
    "href": "phuse-admiral-roclets-pres.html#admiral-1.2.0",
    "title": "Time to Roclet",
    "section": "admiral 1.2.0",
    "text": "admiral 1.2.0\n\n\n\n\n\n\n#’s used to delineate new example with explanation\nCreates a sea of examples\nExamples are not navigable on right hand side"
  },
  {
    "objectID": "phuse-admiral-roclets-pres.html#admiral-1.3",
    "href": "phuse-admiral-roclets-pres.html#admiral-1.3",
    "title": "Time to Roclet",
    "section": "admiral 1.3",
    "text": "admiral 1.3\n\n\n\n\n\n\nA nice linkable title\nDescription of example\nRight hand side has navigable example"
  },
  {
    "objectID": "phuse-admiral-roclets-pres.html#how-was-this-done",
    "href": "phuse-admiral-roclets-pres.html#how-was-this-done",
    "title": "Time to Roclet",
    "section": "How was this done?",
    "text": "How was this done?\n\n\n\n\n\n\nroxygen2 package allows for extensions\nadmiraldev houses the function\nfun!"
  },
  {
    "objectID": "phuse-admiral-roclets-pres.html#extending-roxygen",
    "href": "phuse-admiral-roclets-pres.html#extending-roxygen",
    "title": "Time to Roclet",
    "section": "Extending roxygen",
    "text": "Extending roxygen\n#' A Demo Function\n#'\n#' This function is used to demonstrate the custom tags of the `rdx_roclet()`.\n#'\n#' @param x An argument\n#' @param number A number\n#' @permitted A number\n#' @param letter A letter\n#' @permitted [char_scalar]\n#' @default The first letter of the alphabet\n#' @keywords internal\n#' @examplesx\n#' @info This is the introduction.\n#' @caption A simple example\n#' @info This is a simple example showing the default behaviour.\n#' @code demo_fun(1)\n#' @caption An example with a different letter\n#' @info This example shows that the `letter` argument does not\n#'   affect the output.\n#' @code demo_fun(1, letter = \"b\")\ndemo_fun &lt;- function(x, number = 1, letter = \"a\") 42"
  },
  {
    "objectID": "phuse-admiral-roclets-pres.html#eck",
    "href": "phuse-admiral-roclets-pres.html#eck",
    "title": "Time to Roclet",
    "section": "Eck!",
    "text": "Eck!\n% Generated by roxygen2: do not edit by hand\n% Please edit documentation in R/demo_fun.R\n\\name{demo_fun}\n\\alias{demo_fun}\n\\title{A Demo Function}\n\\usage{\ndemo_fun(x, number = 1, letter = \"a\")\n}\n\n...\n\n\\keyword{internal}\n\\section{Examples}{\n\nThis is the introduction.\n\\subsection{A simple example}{\n\nThis is a simple example showing the default behaviour.\n\n\\if{html}{\\out{&lt;div class=\"sourceCode r\"&gt;}}\\preformatted{demo_fun(1)\n#&gt; [1] 42}\\if{html}{\\out{&lt;/div&gt;}}}\n\\subsection{An example with a different letter}{\n\nThis example shows that the \\code{letter} argument does not affect the output.\n\n\\if{html}{\\out{&lt;div class=\"sourceCode r\"&gt;}}\\preformatted{demo_fun(1, letter = \"b\")\n#&gt; [1] 42}\\if{html}{\\out{&lt;/div&gt;}}}}"
  },
  {
    "objectID": "phuse-admiral-roclets-pres.html#examplesx---the-examples-section-initiator",
    "href": "phuse-admiral-roclets-pres.html#examplesx---the-examples-section-initiator",
    "title": "Time to Roclet",
    "section": "@examplesx - The Examples Section Initiator",
    "text": "@examplesx - The Examples Section Initiator\nPurpose: Marks the beginning of the entire examples section in Roxygen documentation, serving as a structural tag.\nHow it Works: Signals the transform_examplesx() function to start processing custom Roxygen tags for examples.\nProcessing: The transform_examplesx() function orchestrates the grouping of @caption, @info, and @code tags. It executes R code from @code, captures output, handles expected conditions, and combines these into a cohesive examplex tag. It also cleanses output of problematic Unicode characters to prevent LaTeX errors."
  },
  {
    "objectID": "phuse-admiral-roclets-pres.html#caption---example-title",
    "href": "phuse-admiral-roclets-pres.html#caption---example-title",
    "title": "Time to Roclet",
    "section": "@caption - Example Title",
    "text": "@caption - Example Title\nPurpose: Provides a descriptive title or caption for an individual example within the examples section.\nHow it Works: Each @caption tag initiates a new example block, with the text following it becoming the title.\nProcessing: The transform_examplesx() function collects the caption text. In the final .Rd documentation output, this caption is formatted as a\nwithin the main\n{}."
  },
  {
    "objectID": "phuse-admiral-roclets-pres.html#info---example-description",
    "href": "phuse-admiral-roclets-pres.html#info---example-description",
    "title": "Time to Roclet",
    "section": "@info - Example Description",
    "text": "@info - Example Description\nPurpose: Offers additional descriptive text or context for an example, explaining its demonstration or specific considerations.\nHow it Works: It is placed after an @caption and before an @code tag, containing explanatory text for that specific example.\nProcessing: The transform_examplesx() function appends this descriptive text to the current example block’s contents, integrating it into the overall example documentation."
  },
  {
    "objectID": "phuse-admiral-roclets-pres.html#code---executable-example-code",
    "href": "phuse-admiral-roclets-pres.html#code---executable-example-code",
    "title": "Time to Roclet",
    "section": "@code - Executable Example Code",
    "text": "@code - Executable Example Code\nPurpose: Provides the actual R code for an example, which is executed during the R package check, and its output is included in the documentation.\nHow it Works: The R code follows the @code tag. It can include an optional [expected_cnds = “warning”] argument to specify anticipated conditions like warnings or errors without causing check failures.\nProcessing: transform_examplesx() extracts the code and any expected_cnds options, then calls execute_example(). This function runs the code in a controlled environment, captures console output, messages, warnings, and errors. Unexpected conditions (not listed in expected_cnds) lead to an error and an R CMD check failure, ensuring examples are functional and correct. The captured code and its output are then formatted and integrated into the example’s contents."
  },
  {
    "objectID": "phuse-admiral-roclets-pres.html#conclusion",
    "href": "phuse-admiral-roclets-pres.html#conclusion",
    "title": "Time to Roclet",
    "section": "Conclusion",
    "text": "Conclusion\n\nThe admiral R package faced challenges with unwieldy function documentation due to complex and numerous examples.\nTo address this, admiral extended roxygen2’s roclets by introducing custom Roxygen tags: @examplesx, @caption, @info, and @code.\nThese custom tags enable a structured, user-friendly presentation of examples, providing scaffolding for complex function usage.\nThis innovation significantly improved the overall user experience and the quality of admiral’s function documentation."
  },
  {
    "objectID": "phuse-admiral-roclets-pres.html#question",
    "href": "phuse-admiral-roclets-pres.html#question",
    "title": "Time to Roclet",
    "section": "Question",
    "text": "Question\nWhat is the name of the documentation package that could be extended to address admiral’s needs?"
  },
  {
    "objectID": "phuse-admiral-roclets.html",
    "href": "phuse-admiral-roclets.html",
    "title": "Time to Roclet! admiral’s use of custom roclets to enhance and extend examples in function documentation.",
    "section": "",
    "text": "R package function documentation is singular in open source. Detailed argument definitions coupled with inline examples can help breakdown complicated functions that help solve problems. In admiral, R package for ADaMs, we have always prided ourselves on top-notch function documentation. However, as the examples grew for each function the documentation became unwieldy. Using the roxygen2 package, a key component of any R package, we were able to extend the roclets to better display and curate the examples. This presentation/paper will discuss the technical details of how we extended the roclet and how this positively impacted our function examples."
  },
  {
    "objectID": "phuse-admiral-roclets.html#abstract",
    "href": "phuse-admiral-roclets.html#abstract",
    "title": "Time to Roclet! admiral’s use of custom roclets to enhance and extend examples in function documentation.",
    "section": "",
    "text": "R package function documentation is singular in open source. Detailed argument definitions coupled with inline examples can help breakdown complicated functions that help solve problems. In admiral, R package for ADaMs, we have always prided ourselves on top-notch function documentation. However, as the examples grew for each function the documentation became unwieldy. Using the roxygen2 package, a key component of any R package, we were able to extend the roclets to better display and curate the examples. This presentation/paper will discuss the technical details of how we extended the roclet and how this positively impacted our function examples."
  },
  {
    "objectID": "phuse-admiral-roclets.html#introduction",
    "href": "phuse-admiral-roclets.html#introduction",
    "title": "Time to Roclet! admiral’s use of custom roclets to enhance and extend examples in function documentation.",
    "section": "INTRODUCTION",
    "text": "INTRODUCTION\nTo set the stage, we will need to first discuss what is an R package and some of the infrastructure behind it. We will then pivot to discuss R packages that help with the package development process, i.e. roxygen2, devtools, usethis and then briefly discuss admiral.\n\nR Packages\nR packages are fundamental extensions to the R statistical programming language, bundling together code, data, documentation, and tests in a standardized format. They allow users to share and reuse code easily, greatly expanding R’s functionality and driving its widespread adoption in data science. Creating an R package typically involves using development packages like devtools and usethis to set up the necessary directory structure. You then add your R functions to the R/ directory, write documentation for them using roxygen-style comments, and declare any package dependencies in the DESCRIPTION file. After iterating through the process of generating documentation, testing your package, fixing issues and building and installing it for use, you will submit it to a package repository like CRAN. In my opinion, packages that take time to properly document their functions and build out helpful examples tend to be very successful with their user base.\n\n\nroxygen2 package\nI strongly encourage you to check out the R packages devtools and usethis. These two packages are incredibly helpful for the package development process. However, we will just focus on a specific package called royxgen2 for building documentation in R packages.\nThe roxygen2 R package simplifies the process of documenting R code within packages. It allows developers to write documentation directly alongside their function definitions using special comments, known as roxygen comments, which start with #‘. Note that the package is called roxygen2 while we refer to the process of adding #’ as just roxygen or roxygenize. This approach keeps code and documentation co-located, making updates more efficient. roxygen2 then processes these comments to automatically generate .Rd files, which are the standard R documentation files. This automated generation eliminates the need to manually write complex .Rd files, significantly streamlining package development allowing developers to stay focused on writing code that helps solve a user’s problems. Beyond .Rd files, roxygen2 also helps to manage the NAMESPACE file and other package metadata, simplifying the overall package development workflow.\nBelow we have a brief example of a function add_numbers() with its roxygen documentation.\n\n#' Add two numbers together.\n#'\n#' This function takes two numeric inputs and returns their sum.\n#'\n#' @param x A numeric value, the first number.\n#' @param y A numeric value, the second number.\n#' @return The sum of `x` and `y`.\n#' @examples\n#' add_numbers(5, 3)\n#' add_numbers(10, -2)\nadd_numbers &lt;- function(x, y) {\n  x + y\n}\n\nLet’s take a quick look at each of roxygen sections/tags:\n\n#’ Add two numbers together - serves as the title for the function.\n#’ This function takes two numeric inputs and returns their sum - is the description of the function.\n@param x A numeric value, the first number - describes the first argument, x.\n@param y A numeric value, the second number - describes the second argument, y.\n@return The sum of x and y. - describes what the function returns.\n@examples provides executable R code demonstrating how to use the function\n\nTypically,this function would be located in a file called add_numbers.R within a folder called /R. When a developer runs the function roxygenize() from the roxygen2 package it will create a corresponding .Rd file in /man folder. Below you will find the add_numbers.Rd. Not something you want to edit by hand!\n\n% Generated by roxygen2: do not edit by hand\n% Please edit documentation in R/add_numbers.R\n\\name{add_numbers}\n\\alias{add_numbers}\n\\title{Add two numbers together.}\n\\usage{\nadd_numbers(x, y)\n}\n\\arguments{\n\\item{x}{A numeric value, the first number.\n\n\\describe{\n\\item{Default value}{none}\n}}\n\n\\item{y}{A numeric value, the second number.\n\n\\describe{\n\\item{Default value}{none}\n}}\n}\n\\value{\nThe sum of \\code{x} and \\code{y}.\n}\n\\description{\nThis function takes two numeric inputs and returns their sum.\n}\n\\examples{\nadd_numbers(5, 3)\nadd_numbers(10, -2)\n}\n\nThe focus of this paper will be on enhancing the abilities of the @examples tag.\n\n\nadmiral package\nThe admiral R package is an open-source, modularized toolbox specifically designed for creating Analysis Data Model (ADaM) datasets within the R environment. These ADaM datasets are a mandatory component for regulatory submissions, such as New Drug Applications, to health authorities like the FDA. admiral provides a collection of reusable R functions that enable the programming community to develop CDISC-compliant ADaM datasets in a standardized and efficient manner. It promotes a “building block” approach, allowing users to combine modular functions for deriving new variables and parameters, thereby minimizing redundancy and enhancing reproducibility. The package is part of the broader pharmaverse initiative, fostering collaboration among pharmaceutical companies and streamlining the use of R for clinical trial data programming.\nadmiral has a lot of functions to do many different derivations for ADaMs. Many functions need to be flexible to account for different scenarios, filtering or dirty data. As there are many functions with a lot of flexibility there will also be many examples. Finding a way to organize these functions in a way that helps a user is paramount to admiral’s mission."
  },
  {
    "objectID": "phuse-admiral-roclets.html#r-package-documentation",
    "href": "phuse-admiral-roclets.html#r-package-documentation",
    "title": "Time to Roclet! admiral’s use of custom roclets to enhance and extend examples in function documentation.",
    "section": "R PACKAGE DOCUMENTATION",
    "text": "R PACKAGE DOCUMENTATION\nA lot of R packages have amazing documentation with great examples. However, as a package grows in the number of functions the documentation will also grow. If your package’s function is developed in a way that the functions are flexible, then you will need to showcase this flexibility with examples. To first introduce this problem with a simple example, we will look at dplyr R package looking at the arrange() function.\n\nThe arrange() function has limited arguments, but is very versatile and has several long examples. In the screenshot above, the two red arrows on the left are to highlight where the use of the function changes for the examples. Code comments, #, are used to highlight what the change is and serve as a marker for a new example for the function. The red arrow on the right highlights how to get access to the examples. When you click the link it will take you to the top of the examples."
  },
  {
    "objectID": "phuse-admiral-roclets.html#admiral-documentation",
    "href": "phuse-admiral-roclets.html#admiral-documentation",
    "title": "Time to Roclet! admiral’s use of custom roclets to enhance and extend examples in function documentation.",
    "section": "ADMIRAL DOCUMENTATION",
    "text": "ADMIRAL DOCUMENTATION\nThe admiral R package followed a similar pattern as dplyr before the release of 1.3.0. In the next section, we will look at the same function derive_vars_dt() for how the examples changed from 1.2.0 to 1.3.0. The derive_vars_dt() function derives a date from a date character vector with the added abilities to do imputation on a partial date.\n\nderive_vars_dt() at 1.2.0\n\nThe pattern of red arrows is similar to the dplyr arrange function. The left side two red arrows have comments inserted to show how the function can be used to do different imputations. The right side red arrow has the link for the examples. When you click the link it will take you to the top of the examples.\n\n\nderive_vars_dt() at 1.3.0\n\nNow we are cooking! The example for derive_vars_dt() has a title for it followed by a detailed description as evidenced by the red arrows on the left side. On the right side, we can see a “Table of Contents” outlined for each example. I find this particular helpful for users as we can scaffold the examples in complexity. The examples are also clickable on the right side - so you can go to any example by just a click!\nLet’s dive into how we did this, by first exploring the new roxygen tags and then get more into the code that generates the new roxygen examples.\n\n\nadmiral on roxygen steroids - overview\nUnfortunately, showcasing the derive_vars_dt() new roxygen layout would take up a few pages so we will use a reduced version from the admiral developer documentation, housed in a package called admiraldev, to illustrate its enhanced abilities with a function called demo_fun().\n\n#' A Demo Function\n#'\n#' This function is used to demonstrate the custom tags of the `rdx_roclet()`.\n#'\n#' @param x An argument\n#' @param number A number\n#' @permitted A number\n#' @param letter A letter\n#' @permitted [char_scalar]\n#' @default The first letter of the alphabet\n#' @keywords internal\n#' @examplesx\n#' @info This is the introduction.\n#' @caption A simple example\n#' @info This is a simple example showing the default behaviour.\n#' @code demo_fun(1)\n#' @caption An example with a different letter\n#' @info This example shows that the `letter` argument does not\n#'   affect the output.\n#' @code demo_fun(1, letter = \"b\")\ndemo_fun &lt;- function(x, number = 1, letter = \"a\") 42\n\nFirst, notice the use of a new roxygen tag @examplesx, which extends the abilities of the original @examples. Once @examplesx is declared, it will open up the following tags: @caption, @info, @code. These new tags allow for clear titles to be declared using @caption, with detailed descriptions using @info and write specific code after the @code tag for the specific example. You can repeat this pattern to showcase many examples, like we saw for derive_vars_dt() 1.3.0 on the right-hand side of the above image.\nBelow you will find the .Rd portion of our demo_fun() function. I have removed the section pertaining to the arguments to save some space. Again, you don’t want to manually create this either!\n\n% Generated by roxygen2: do not edit by hand\n% Please edit documentation in R/demo_fun.R\n\\name{demo_fun}\n\\alias{demo_fun}\n\\title{A Demo Function}\n\\usage{\ndemo_fun(x, number = 1, letter = \"a\")\n}\n\n...\n\n\\keyword{internal}\n\\section{Examples}{\n\nThis is the introduction.\n\\subsection{A simple example}{\n\nThis is a simple example showing the default behaviour.\n\n\\if{html}{\\out{&lt;div class=\"sourceCode r\"&gt;}}\\preformatted{demo_fun(1)\n#&gt; [1] 42}\\if{html}{\\out{&lt;/div&gt;}}}\n\\subsection{An example with a different letter}{\n\nThis example shows that the \\code{letter} argument does not affect the output.\n\n\\if{html}{\\out{&lt;div class=\"sourceCode r\"&gt;}}\\preformatted{demo_fun(1, letter = \"b\")\n#&gt; [1] 42}\\if{html}{\\out{&lt;/div&gt;}}}}\n\n\n\nadmiral roxygen behind the scenes - details\nThe admiral R package has a dependency package called admiraldev, which houses utility functions not needed by the user to do ADaM derivations. A lot of these utility functions are to check user inputs and provide feedback to the users on issues. The package is also home to our roclet extension functions. The rdx_roclet.R file contains several powerful functions to extend the standard roclet, meaning it performs its own custom processing first, and then delegates to the standard rd roclet to finish generating the .Rd file. This allows it to introduce new Roxygen tags and modify how existing information is presented. The roxygen2 package has a great article on extending the roclet which is recommended reading - https://roxygen2.r-lib.org/articles/extending.html.\nLet’s try and break down how the rdx_roclet related functions work to produce the extended roxygen abilities. Note this is a high-level overview and readers are encouraged to explore the https://github.com/pharmaverse/admiraldev/blob/main/R/roclet_rdx.R for more details.\n\n@examplesx (marks the beginning of the Examples Section)\nPurpose: To explicitly mark the beginning of the examples section. It’s largely a structural tag and can often be omitted if the first example-related tag is @caption.\nProcessing: Once this @examplesx is declared, the transform_examplesx() function will look for and processes custom Roxygen tags like @caption, @info, and @code to generate structured examples. It groups these tags, executes the R code provided by @code (including capturing its output and handling expected conditions), and then combines this information into a single examplex tag for the R documentation, effectively transforming descriptive and executable components into a cohesive example. Crucially, it also cleanses the executed code’s output of problematic Unicode characters to prevent LaTeX compilation errors in the final PDF manual.\n\n\n@caption (Example Title)\nPurpose: To provide a descriptive title or caption for a specific example within the examples section.\nHow it works: Each @caption begins a new example block. The text following @caption becomes the title.\nProcessing: transform_examplesx() collects the caption. In the final .Rd output, this becomes a \\subsection{} within the main \\section{Examples}{}.\n\n\n@info (Example Description)\nPurpose: To provide additional descriptive text or context for an example, explaining what it demonstrates or any specific considerations.\nHow it works: Placed after @caption and before @code, it contains the explanatory text.\nProcessing: transform_examplesx() appends this text to the contents of the current example block.\n\n\n@code (Executable Example Code)\nPurpose: To provide the actual R code for an example. Critically, this code is executed during the R package check process, and its output is included in the documentation.\nHow it works: The R code follows the @code tag. It can also include an optional argument [expected_cnds = “warning”] to indicate that certain conditions (like warnings or errors) are anticipated from the code and should not cause the check to fail.\nProcessing: transform_examplesx() extracts the code and any expected_cnds options. It then calls the execute_example() function. execute_example() runs the R code in a controlled environment, captures its output (what R would print to the console), and any messages, warnings, or errors.\nIf an unexpected condition occurs (i.e., a warning or error not listed in expected_cnds), it will throw an error, causing the R CMD check to fail. This ensures that examples are not only documented but also correct and functional.\nThe captured code and its output are then formatted and included as part of the example’s contents.\nViola! We get a pretty examples with amazing layout like below."
  },
  {
    "objectID": "phuse-admiral-roclets.html#conclusions",
    "href": "phuse-admiral-roclets.html#conclusions",
    "title": "Time to Roclet! admiral’s use of custom roclets to enhance and extend examples in function documentation.",
    "section": "CONCLUSIONS",
    "text": "CONCLUSIONS\nThe admiral R package, which specializes in creating Analysis Data Model (ADaM) datasets, encountered a challenge with increasingly unwieldy function documentation as its examples grew in number and complexity. To address this, admiral significantly enhanced its documentation by extending roxygen2’s roclets—a core component of R package documentation. The key innovation involved introducing custom roxygen tags: @examplesx, @caption, @info, and @code. This roxygen extension allows for a structured and user-friendly presentation of examples, as seen in the derive_vars_dt() function. Ultimately, this method enables admiral to provide scaffolding for its examples, allowing users to easily navigate and understand complex function usage, thereby significantly improving the overall user experience and the quality of its function documentation."
  },
  {
    "objectID": "phuse-admiral-roclets.html#references",
    "href": "phuse-admiral-roclets.html#references",
    "title": "Time to Roclet! admiral’s use of custom roclets to enhance and extend examples in function documentation.",
    "section": "REFERENCES",
    "text": "REFERENCES\nIn-line documentation for R. (n.d.). https://roxygen2.r-lib.org/  ADAM in R Asset Library. (n.d.). https://pharmaverse.github.io/admiral  Utility functions and development tools for the Admiral Package Family. (n.d.). https://pharmaverse.github.io/admiraldev"
  },
  {
    "objectID": "phuse-admiral-roclets.html#acknowledgments",
    "href": "phuse-admiral-roclets.html#acknowledgments",
    "title": "Time to Roclet! admiral’s use of custom roclets to enhance and extend examples in function documentation.",
    "section": "ACKNOWLEDGMENTS",
    "text": "ACKNOWLEDGMENTS\nThe R open-source community. You all are a special bunch."
  },
  {
    "objectID": "phuse-admiral-roclets.html#contact-information",
    "href": "phuse-admiral-roclets.html#contact-information",
    "title": "Time to Roclet! admiral’s use of custom roclets to enhance and extend examples in function documentation.",
    "section": "CONTACT INFORMATION",
    "text": "CONTACT INFORMATION\nYour comments and questions are valued and encouraged. Contact the authors at:  Author Name: Edoardo Mancini  Company: Roche  Email: edoardo.mancini_at_roche.com  Website: https://www.danieldsjoberg.com/ \nAuthor Name: Ben Straub  Company: GSK  Email: ben.x.straub_at_gsk.com  Website: https://www.linkedin.com/in/ben-straub/ \nBrand and product names are trademarks of their respective companies. R"
  },
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About",
    "section": "",
    "text": "About this site"
  },
  {
    "objectID": "phuse-admiral-roclets-pres.html",
    "href": "phuse-admiral-roclets-pres.html",
    "title": "Time to Roclet",
    "section": "",
    "text": "Do you read the manual first? Show of Hands\nDo you just dive in and read the manual afterwards? Show of Hands\nI am a dive in and then read the manual later."
  }
]